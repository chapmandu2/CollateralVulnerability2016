#' Shiny Visualisation UI
#'
#' Creates a shiny UI for the interactive view of Collateral Vulnerability pipeline results
#'
#' @param con A \code{SQLiteConnection} object to the database
#' @return A shiny UI
#' @export
#' @import shiny
shinyVisUI <- function() {

fluidPage(
    fluidRow(
        column(4,
               wellPanel(
                   sliderInput(inputId='pi_value_th',
                               label='PI Value',
                               min=0,
                               max=1,
                               value=0.2),
                   sliderInput(inputId='bisep_pval_th',
                               label='BISEP P-value',
                               min=0,
                               max=1,
                               value=0.1, step=0.01),
                   sliderInput(inputId='bi_value_th',
                               label='Bimodal Index Value',
                               min=0,
                               max=3,
                               value=0, step=0.1),
                   fluidRow(
                       column(9, sliderInput(inputId='paralog_count_range',
                                             label='Number of paralogs',
                                             min=0,
                                             max=10,
                                             value=c(1,5))),
                       column(2, checkboxInput(inputId='paralog_count_include',
                                               label='',
                                               value=FALSE),
                              tags$style(type='text/css', "#paralog_count_include { margin-top: 30px; }"))
                   ),
                   fluidRow(
                       column(9,sliderInput(inputId='lethal_pct_fly',
                                   label='% lethal alleles in fly',
                                   min=0,
                                   max=100,
                                   value=20)),
                       column(2,checkboxInput(inputId='lethal_pct_fly_include',
                                              label='',
                                              value=FALSE),
                              tags$style(type='text/css', "#lethal_pct_fly_include { margin-top: 30px; }"))
                   ),
                   fluidRow(
                       column(9,sliderInput(inputId='lethal_pct_worm',
                                   label='% lethal alleles in worm',
                                   min=0,
                                   max=100,
                                   value=20)),
                       column(2,checkboxInput(inputId='lethal_pct_worm_include',
                                     label='',
                                     value=FALSE),
                              tags$style(type='text/css', "#lethal_pct_worm_include { margin-top: 30px; }"))

                   ),
                   selectInput(inputId = 'display_type',
                               label='Display results as:',
                               choices=c('Scatterplot' = 'scatter',
                                         'Table' = 'table')),
                   selectInput(inputId = 'detail_type',
                               label='Click row/datapoint to show',
                               choices=c('BISEP plot' = 'rnaseq_plot',
                                         'Mutation detail' = 'mut_data',
                                         'Paralog Expression Plot' = 'paralog_plot',
                                         'Paralog Details' = 'paralog_data',
                                         'Fly Details' = 'flymine_data',
                                         'Worm Details' = 'wormmine_data'))
                            ),

               uiOutput('detailUI'),

               textOutput('test')


               ),
        column(8,
               fluidRow(

                   uiOutput('displayUI')

               ))
    )
)

}
